<Window
    x:Class="BBIHardwareSupport.MDM.IntuneConfigManager.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:Microsoft.UI.Xaml.Controls"
    xmlns:helpers="using:BBIHardwareSupport.MDM.UI.ViewModels.Helpers"
    Title="BBI - MDM Workflow">

    <Grid Name="RootGrid"
          Background="{ThemeResource AcrylicBackgroundFillColorDefaultBrush}"
          RowDefinitions="Auto,*,Auto">

        <Grid.Resources>
            <helpers:BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
        </Grid.Resources>

        <!-- Header -->
        <TextBlock Grid.Row="0"
                   Text="BBI - MDM Workflow Manager"
                   Margin="30,24,30,12"
                   FontSize="28"
                   FontWeight="Bold"
                   Foreground="DeepSkyBlue" />

        <!-- Navigation -->
        <controls:NavigationView Grid.Row="1"
                                 x:Name="NavView"
                                 Margin="30,0,30,0"
                                 PaneDisplayMode="Left"
                                 IsBackButtonVisible="Collapsed"
                                 SelectionChanged="NavView_SelectionChanged">
            <controls:NavigationView.MenuItems>
                <controls:NavigationViewItem Content="Workspace ONE" Icon="Library" Tag="WorkspaceOnePage" />
                <controls:NavigationViewItem Content="OEMConfig Manager" Icon="AllApps" Tag="OemConfigurationManagerPage" />
                <controls:NavigationViewItem Content="WS1 Battery Drain" Icon="AllApps" Tag="WS1AndroidBatteryPage" />
            </controls:NavigationView.MenuItems>

            <Frame x:Name="ContentFrame" />
        </controls:NavigationView>

        <!-- Footer / Status (pinned to bottom of WINDOW) -->
        <Border Grid.Row="2"
                Padding="12"
                Background="{ThemeResource AcrylicBackgroundFillColorDefaultBrush}"
                Visibility="{Binding IsLoading, Mode=OneWay, Converter={StaticResource BooleanToVisibilityConverter}}">

            <StackPanel Orientation="Horizontal" Spacing="12">
                <ProgressRing IsActive="{Binding IsLoading}" Width="24" Height="24"/>
                <TextBlock Text="{Binding StatusMessage, Mode=OneWay}"
                           VerticalAlignment="Center"
                           TextWrapping="Wrap"/>
            </StackPanel>
        </Border>

    </Grid>
</Window>
